<!-- src\app\features\todo\components\task-detail-modal\task-detail-modal.component.html -->
<p-dialog [(visible)]="visible" header="📝 Detalle de la Tarea" [modal]="true" [closable]="true" (onHide)="close()"
  [style]="{ width: '90vw', maxWidth: '500px', height: 'auto' }">
  <div *ngIf="task" class="flex flex-col gap-4">

    <!-- Título y descripción -->
    <div>
      <h3 class="text-xl font-bold text-gray-800 mb-1">{{ task.title }}</h3>
      <p class="text-gray-600">{{ task.description }}</p>
    </div>

    <!-- Subtareas -->
    <div *ngIf="subtasks.length > 0">
      <h4 class="text-lg font-semibold text-gray-700 mb-2">Subtareas</h4>
      <div class="max-h-60 overflow-y-auto border border-gray-200 rounded p-3 bg-gray-50 shadow-inner">
        <ul class="space-y-2">
          <li *ngFor="let subtask of subtasks" class="flex items-center gap-3">
        <p-checkbox [binary]="true" [ngModel]="subtask.completed" (ngModelChange)="onToggleSubtask(subtask, $event)">
        </p-checkbox>

            <span [ngClass]="{ 'line-through text-gray-400': subtask.completed, 'text-gray-800': !subtask.completed }"
              class="text-base">
              {{ subtask.text }}
            </span>
          </li>
        </ul>
      </div>
    </div>

    <!-- Botón cerrar -->
    <div class="flex justify-end pt-4">
      <button pButton type="button" label="Cerrar" class="p-button-secondary" (click)="close()"></button>
    </div>
  </div>
</p-dialog>
